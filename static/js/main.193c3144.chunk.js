(this["webpackJsonpcharacter-drawing"]=this["webpackJsonpcharacter-drawing"]||[]).push([[0],{13:function(e,n,t){e.exports=t(24)},18:function(e,n,t){},22:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(9),i=t.n(c),o=(t(18),t(6)),u=t.n(o),l=t(10),s=t(3),d=t(1),f=t(11),m=t.n(f),p=t(25);function v(e){return{id:Object(p.a)(),data:e}}function b(e,n){return e.map((function(e){return function(e,n){return Math.random()>.15?e:" "===e?function(e,n){return Math.random()<.3?Object(d.sample)(n):e}(e,n):Math.random()<.3?" ":Object(d.sample)(n)}(e,n)}))}function k(e){switch(e){case"/":return"\\";case"\\":return"/";case"[":return"]";case"]":return"[";case"<":return">";case">":return"<";case"{":return"}";case"}":return"{";case"(":return")";case")":return"(";case"b":return"d";case"d":return"b";default:return e}}t(22);var h=t(2),j=t(7);function g(e){var n=Object(r.useState)(O(e)),t=Object(j.a)(n,2),a=t[0],c=t[1],i=a.timelineTree,o=a.currTimelineNode,u=a.recordedDrawings;function l(e){var n=o.prevNode;if(n){var t=n.nextNodes.length;if(!(t<=1)){var r,i=n.nextNodes.findIndex((function(e){return e===o})),u=((i+e)%(r=t)+r)%r;c(Object(h.a)(Object(h.a)({},a),{},{currTimelineNode:n.nextNodes[u]}))}}}return{currDrawings:o.drawings.map((function(e){return u[e]})),currPicked:o.picked?u[o.picked]:null,handlePick:function(e,n){var t=o.nextNodes.length>0?w(o.drawings.map((function(e){return u[e]})),o.prevNode):o;t.picked=e.id;var r=w(n,t),a=t===(null===i||void 0===i?void 0:i.lastNode)?Object(h.a)(Object(h.a)({},i),{},{lastNode:r}):i;c({timelineTree:a,currTimelineNode:r,recordedDrawings:Object(h.a)(Object(h.a)({},u),Object(d.keyBy)(n,(function(e){return e.id})))})},backInTime:function(){var e,n=null!==(e=null===o||void 0===o?void 0:o.prevNode)&&void 0!==e?e:null;n&&c(Object(h.a)(Object(h.a)({},a),{},{currTimelineNode:n}))},forwardInTime:function(){var e,n=null!==(e=null===o||void 0===o?void 0:o.nextNodes)&&void 0!==e?e:[],t=Object(j.a)(n,1)[0];t&&c(Object(h.a)(Object(h.a)({},a),{},{currTimelineNode:t}))},nextForkInTime:function(){l(1)},prevForkInTime:function(){l(-1)},reset:function(e){c(O(e))}}}function O(e){var n=Object(d.keyBy)(e,(function(e){return e.id})),t=w(e,null);return{timelineTree:{id:Object(p.a)(),firstNode:t,lastNode:t},currTimelineNode:t,recordedDrawings:n}}function w(e,n){var t,r={id:Object(p.a)(),drawings:e.map((function(e){return e.id})),prevNode:n,nextNodes:[]};return null===(t=r.prevNode)||void 0===t||t.nextNodes.push(r),r}t(23);function x(e){var n=e.isPicked,t=e.onPick,r=e.drawingText;return a.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},a.a.createElement("div",{className:"drawing-container",style:{padding:"20px 100px",background:n?"lightgreen":"lightgrey",cursor:"pointer",position:"relative"},onClick:t},a.a.createElement("pre",null,r),a.a.createElement("div",{className:"drawing-actions-bar",style:{position:"absolute",padding:5,bottom:0,left:0}},a.a.createElement("button",{style:{cursor:"pointer"},onClick:function(e){return e.stopPropagation(),navigator.clipboard.writeText(r)}},"copy"))))}var y=["d","b","|","\\","/",".","=","{","}","*","^","<",">","o","O"],N=Math.floor(3),E=T();function T(){return Object(d.times)(6,(function(){return function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.pSpace,c=void 0===a?.5:a,i=Math.min(c,1),o=[];return Object(d.times)(n,(function(){Object(d.times)(t+1,(function(){var n=i>Math.random()?" ":Object(d.sample)(e);o.push(n)}))})),v(o)}(y,10,4,{pSpace:.75})}))}var I=function(){var e=g(E),n=e.currDrawings,t=e.currPicked,c=e.handlePick,i=e.backInTime,o=e.forwardInTime,f=e.nextForkInTime,p=e.prevForkInTime,h=e.reset,j=Object(r.useRef)(null);function O(){return(O=Object(l.a)(u.a.mark((function e(){var n,t,r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.current){e.next=3;break}return e.abrupt("return");case 3:if(t=prompt("Please enter the file name:","characters")){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,m()(n);case 8:r=e.sent,a=r.toDataURL("jpg"),(c=document.createElement("a")).download="".concat(t,".jpg"),c.href=a,c.click();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,n){return n+e*N}var I=n.map((function(e){return function(e,n){var t=e.data;return Object(d.chunk)(t,n+1).map((function(e){var n=Object(d.last)(e),t=Object(d.initial)(e),r=t.map(k).reverse();return[].concat(Object(s.a)(t),[n],Object(s.a)(r)).join("")})).join("\n")}(e,4)}));return a.a.createElement("div",{style:{height:"100vh",fontSize:20},className:"App"},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){var e=T();h(e)}},"Refresh"),a.a.createElement("button",{onClick:p},"prev fork"),a.a.createElement("button",{onClick:f},"next fork"),a.a.createElement("button",{onClick:i},"Back"),a.a.createElement("button",{onClick:o},"Forward"),a.a.createElement("button",{onClick:function(){return O.apply(this,arguments)}},"Download as image")),a.a.createElement("div",{ref:j,style:{flex:1,display:"flex",flexDirection:"column"}},Object(d.times)(2,(function(e){return a.a.createElement("div",{key:e,style:{display:"flex",flex:1}},Object(d.times)(N,(function(r){return a.a.createElement(x,{key:n[w(e,r)].id,drawingText:I[w(e,r)],isPicked:n[w(e,r)]===t,onPick:function(){return function(e){var t=n[e],r=Object(d.times)(5,(function(){return v(b(t.data,y))})),a=[].concat(Object(s.a)(r.slice(0,e)),[t],Object(s.a)(r.slice(e)));c(t,a)}(w(e,r))}})})))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.193c3144.chunk.js.map